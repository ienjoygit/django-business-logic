webpackJsonp([2],{92:function(e,t,n){"use strict";var o=n(1),r=n(177),a=function(){function BackendService(e){this.http=e,this.baseUrl="/business-logic/rest",this.programInterfaceUrl=this.baseUrl+"/program-interface",this.programVersionUrl=this.baseUrl+"/program-version",this.newVersionUrl=this.programVersionUrl+"/new",this.programUrl=this.baseUrl+"/program"}return BackendService.prototype.listProgramInterfaces=function(){var e=new r.Headers({"Content-Type":"application/json"}),t=new r.RequestOptions({headers:e});return this.http.get(this.programInterfaceUrl,t).map(this.extractData)},BackendService.prototype.listProgramVersions=function(e){var t=new r.Headers({"Content-Type":"application/json"}),n=new r.URLSearchParams;n.append("program",String(e));var o=new r.RequestOptions({headers:t,search:n});return this.http.get(""+this.programVersionUrl,o).map(this.extractData)},BackendService.prototype.listPrograms=function(e){var t=new r.Headers({"Content-Type":"application/json"}),n=new r.RequestOptions({headers:t});return this.http.get(""+this.programUrl,n).map(this.extractData)},BackendService.prototype.getProgramVersionById=function(e){var t=new r.Headers({"Content-Type":"application/json"}),n=new r.RequestOptions({headers:t});return this.http.get(this.programVersionUrl+"/"+e,n).map(this.extractData)},BackendService.prototype.saveVersion=function(e){var t=new r.Headers({"Content-Type":"application/json"}),n=new r.RequestOptions({headers:t});return this.http.post(this.newVersionUrl,JSON.stringify(e),n).map(this.extractData)},BackendService.prototype.extractData=function(e){return e.json()},BackendService=__decorate([o.Injectable(),__metadata("design:paramtypes",[r.Http])],BackendService)}();t.BackendService=a},194:function(e,t,n){"use strict";var o=n(1),r=function(){function EmptyComponent(){}return EmptyComponent=__decorate([o.Component({selector:"empty",template:(e=["I'm empty"],e.raw=["I'm empty"],String.raw(e))}),__metadata("design:paramtypes",[])],EmptyComponent);var e}();t.EmptyComponent=r},432:function(e,t,n){"use strict";var o=n(92);t.APP_PROVIDERS=[o.BackendService];var r=n(433);t.AppComponent=r.ProgramInterfaceComponent},433:function(e,t,n){"use strict";var o=n(1),r=n(65),a=n(194),i=n(92),c=n(435),l=function(){function ProgramInterfaceComponent(e,t){this.router=e,this.backend=t}return ProgramInterfaceComponent.prototype.ngOnInit=function(){var e=this;this.backend.listProgramInterfaces().subscribe(function(t){return e.programInterfaces=t.results})},ProgramInterfaceComponent=__decorate([o.Component({selector:"program-interface",template:'\n <ul>\n  <li *ngFor="let programInterface of programInterfaces">\n       <a [routerLink]="[\'Program\',{programInterfaceId:programInterface.id}]">\n       {{programInterface.title}}\n       </a>\n  </li>\n</ul>\n\n<main>\n  <router-outlet></router-outlet>\n</main>\n  '}),r.RouteConfig([{path:"/",name:"ProgramInterfaceEmpty",component:a.EmptyComponent,useAsDefault:!0},{path:"/interface/:programInterfaceId/...",name:"Program",component:c.ProgramComponent}]),__metadata("design:paramtypes",[r.Router,i.BackendService])],ProgramInterfaceComponent)}();t.ProgramInterfaceComponent=l},434:function(e,t,n){"use strict";var o=n(1),r=n(65),a=n(194),i=n(92),c=n(437),l=function(){function ProgramVersionComponent(e,t,n){this.router=e,this.backend=t,this.routeParams=n}return ProgramVersionComponent.prototype.ngOnInit=function(){var e=this;this.programId=Number.parseInt(this.routeParams.get("programId")),this.backend.listProgramVersions(this.programId).subscribe(function(t){return e.programVersions=t.results})},ProgramVersionComponent=__decorate([o.Component({selector:"program-version",template:'\n  programId = {{programId}}\n    <ul>\n        <li *ngFor="let programVersion of programVersions">\n            <a [routerLink]="[\'Program\',{programVersionId:programVersion.id}]">\n            {{programVersion.title}}</a>\n        </li>\n    </ul>\n\n  <router-outlet></router-outlet>\n  '}),r.RouteConfig([{path:"/",name:"ProgramInterfaceEmpty",component:a.EmptyComponent,useAsDefault:!0},{path:"/version/:programVersionId",name:"Program",component:c.VersionEditorComponent}]),__metadata("design:paramtypes",[r.Router,i.BackendService,r.RouteParams])],ProgramVersionComponent)}();t.ProgramVersionComponent=l},435:function(e,t,n){"use strict";var o=n(1),r=n(65),a=n(194),i=n(92),c=n(434),l=function(){function ProgramComponent(e,t,n){this.router=e,this.backend=t,this.routeParams=n}return ProgramComponent.prototype.ngOnInit=function(){var e=this;this.programInterfaceId=Number.parseInt(this.routeParams.get("programInterfaceId")),this.backend.listPrograms(this.programInterfaceId).subscribe(function(t){return e.programs=t.results})},ProgramComponent=__decorate([o.Component({selector:"program",template:'\n  programInterfaceId = {{programInterfaceId}}\n    <ul>\n        <li *ngFor="let program of programs">\n            <a [routerLink]="[\'ProgramVersion\',{programId:program.id}]">{{program.title}}</a>\n        </li>\n    </ul>\n\n  <router-outlet></router-outlet>\n  '}),r.RouteConfig([{path:"/",name:"ProgramEmpty",component:a.EmptyComponent,useAsDefault:!0},{path:"/program/:programId/...",name:"ProgramVersion",component:c.ProgramVersionComponent}]),__metadata("design:paramtypes",[r.Router,i.BackendService,r.RouteParams])],ProgramComponent)}();t.ProgramComponent=l},446:function(e,t){e.exports='<category name="Logic">\n  <category name="If">\n    <block type="controls_if"></block>\n    <block type="controls_if">\n      <mutation else="1"></mutation>\n    </block>\n    <block type="controls_if">\n      <mutation elseif="1" else="1"></mutation>\n    </block>\n  </category>\n  <category name="Boolean">\n    <block type="logic_compare"></block>\n    <block type="logic_operation"></block>\n    <block type="logic_negate"></block>\n    <block type="logic_boolean"></block>\n    <block type="logic_null"></block>\n    <block type="logic_ternary"></block>\n  </category>\n</category>\n<category name="Loops">\n  <block type="controls_repeat_ext">\n    <value name="TIMES">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n  </block>\n  <block type="controls_whileUntil"></block>\n  <block type="controls_for">\n    <field name="VAR">i</field>\n    <value name="FROM">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n    <value name="BY">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="controls_forEach"></block>\n  <block type="controls_flow_statements"></block>\n</category>\n<category name="Math">\n  <block type="math_number"></block>\n  <block type="math_arithmetic"></block>\n  <block type="math_single"></block>\n  <block type="math_trig"></block>\n  <block type="math_constant"></block>\n  <block type="math_number_property"></block>\n  <block type="math_change">\n    <value name="DELTA">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_round"></block>\n  <block type="math_on_list"></block>\n  <block type="math_modulo"></block>\n  <block type="math_constrain">\n    <value name="LOW">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="HIGH">\n      <block type="math_number">\n        <field name="NUM">100</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_random_int">\n    <value name="FROM">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <field name="NUM">100</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_random_float"></block>\n</category>\n<category name="Lists">\n  <block type="lists_create_empty"></block>\n  <block type="lists_create_with"></block>\n  <block type="lists_repeat">\n    <value name="NUM">\n      <block type="math_number">\n        <field name="NUM">5</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_length"></block>\n  <block type="lists_isEmpty"></block>\n  <block type="lists_indexOf"></block>\n  <block type="lists_getIndex"></block>\n  <block type="lists_setIndex"></block>\n</category>\n<category name="Variables" custom="VARIABLE"></category>\n<category name="Functions" custom="PROCEDURE"></category>\n'},436:function(e,t,n){"use strict";var o=n(1),r=function(){function BlocklyComponent(){this.style={width:"100%",height:"900px"},this.save=new o.EventEmitter}return BlocklyComponent.prototype.ngAfterViewInit=function(){this.workspace=Blockly.inject(this.blocklyDiv.nativeElement,{toolbox:this.toolbox.nativeElement,trashcan:!0,sounds:!1}),this.initXml(this.xml)},BlocklyComponent.prototype.ngOnChanges=function(e){e.xml&&this.workspace&&this.initXml(e.xml.currentValue)},BlocklyComponent.prototype.onSave=function(){this.save.emit(this.getBlocklyXml())},BlocklyComponent.prototype.getBlocklyXml=function(){var e=Blockly.Xml.workspaceToDom(this.workspace),t=Blockly.Xml.domToText(e);return t},BlocklyComponent.prototype.initXml=function(e){this.workspace.clear();var t=Blockly.Xml.textToDom(e);Blockly.Xml.domToWorkspace(t,this.workspace)},__decorate([o.ViewChild("blockly"),__metadata("design:type",Object)],BlocklyComponent.prototype,"blocklyDiv",void 0),__decorate([o.ViewChild("toolbox"),__metadata("design:type",Object)],BlocklyComponent.prototype,"toolbox",void 0),__decorate([o.Input(),__metadata("design:type",Object)],BlocklyComponent.prototype,"xml",void 0),__decorate([o.Output(),__metadata("design:type",Object)],BlocklyComponent.prototype,"save",void 0),BlocklyComponent=__decorate([o.Component({selector:"blockly",template:'\n<xml #toolbox style="display: none">\n'+n(446)+'\n</xml>\n<button (click)="onSave()">\n  Save\n</button>\n<div #blockly [ngStyle]="style"></div>\n'}),__metadata("design:paramtypes",[])],BlocklyComponent)}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},437:function(e,t,n){"use strict";var o=n(1),r=n(65),a=n(92),i=n(436),c=function(){function VersionEditorComponent(e,t,n){this.router=e,this.backend=t,this.routeParams=n}return VersionEditorComponent.prototype.ngOnInit=function(){var e=this;this.programVersionId=Number.parseInt(this.routeParams.get("programVersionId")),this.backend.getProgramVersionById(this.programVersionId).subscribe(function(t){return e.version=t})},VersionEditorComponent.prototype.onXmlSaved=function(e){var t=this;this.version.xml=e,this.backend.saveVersion(this.version).subscribe(function(e){return t.router.navigate(["Version",{programVersionId:e.id}])})},VersionEditorComponent=__decorate([o.Component({selector:"program-editor",template:n(447),directives:[i.default]}),__metadata("design:paramtypes",[r.Router,a.BackendService,r.RouteParams])],VersionEditorComponent)}();t.VersionEditorComponent=c},447:function(e,t){e.exports='programVersionId = {{programVersionId}}\n\n<blockly *ngIf="version" [xml]="version.xml" (save)="onXmlSaved($event)">\n\n</blockly>\n'},0:function(e,t,n){"use strict";var o=n(286),r=n(439),a=n(442),i=n(432);o.bootstrap(i.AppComponent,r.PROVIDERS.concat(a.ENV_PROVIDERS,r.DIRECTIVES,r.PIPES,i.APP_PROVIDERS)).catch(function(e){return console.error(e)})},438:function(e,t,n){"use strict";var o=n(1),r=n(65);t.APPLICATION_DIRECTIVES=r.ROUTER_DIRECTIVES.slice(),t.DIRECTIVES=[{provide:o.PLATFORM_DIRECTIVES,multi:!0,useValue:t.APPLICATION_DIRECTIVES}]},439:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(438)),__export(n(440)),__export(n(441))},440:function(e,t,n){"use strict";var o=n(1);t.APPLICATION_PIPES=[],t.PIPES=[{provide:o.PLATFORM_PIPES,multi:!0,useValue:t.APPLICATION_PIPES}]},441:function(e,t,n){"use strict";var o=n(51),r=n(177),a=n(65);t.APPLICATION_PROVIDERS=o.FORM_PROVIDERS.concat(r.HTTP_PROVIDERS,a.ROUTER_PROVIDERS,[{provide:o.LocationStrategy,useClass:o.HashLocationStrategy}]),t.PROVIDERS=t.APPLICATION_PROVIDERS.slice()},442:function(e,t,n){"use strict";var o=n(1),r=[];o.enableProdMode(),r=r.slice(),t.ENV_PROVIDERS=r.slice()}});
//# sourceMappingURL=main.bundle.map